# D-Station

## ë§í¬ : [D-Station í™ˆí˜ì´ì§€](http://k7e106.p.ssafy.io/)

## ì†Œê°œ ì˜ìƒ : [ì†Œê°œ ì˜ìƒ ë§í¬]()
</br>

## ğŸ–¥ í”„ë¡œì íŠ¸ ì§„í–‰ ê¸°ê°„

2022.10.11(í™”) ~ 2022.11.18(ê¸ˆ)
SSAFY 7ê¸° 2í•™ê¸° ììœ¨ í”„ë¡œì íŠ¸ - D-Station

</br>

## ğŸš€ D-Station - ë°°ê²½

ê°œë°œìì˜ ì‹œëŒ€, ê°œë°œì ìˆ˜ìš”ê°€ ëŠ˜ì–´ê°ì— ë”°ë¼ ë§ì€ ì‚¬ëŒë“¤ì´ ê°œë°œ ê³µë¶€ì— ë„ì „í•˜ê³  ìˆìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ì½”ë”©ì„ ì²˜ìŒ ì ‘í•˜ëŠ” ì‚¬ëŒì—ê² ì–´ë–¤ ê²ƒë¶€í„° ì‹œì‘í•´ì•¼ë˜ëŠ”ì§€, ì¸í„°ë„·ì—ì„œ ì‹œí‚¤ëŠ”ëŒ€ë¡œ ê³µë¶€í–ˆëŠ”ë° ë‹¤ìŒì—” ë˜ ë­˜ ë°°ì›Œì•¼í•˜ëŠ”ì§€ ë§‰ë§‰í•œ ì‹¬ì •ì¼ ê²ë‹ˆë‹¤.

ê·¸ëŸ° ë¶„ë“¤ì„ ìœ„í•´ ì¤€ë¹„í–ˆìŠµë‹ˆë‹¤. 

**ê°œë°œ ê³µë¶€ ë¡œë“œë§µ ì„œë¹„ìŠ¤, D-Station ì…ë‹ˆë‹¤!**

</br>

## ğŸ” D-Station - ê°œìš”

_- ë¡œë“œë§µ ë° í•™ìŠµ ê´€ë¦¬ ì„œë¹„ìŠ¤ -_




## âœ” ì£¼ìš” ê¸°ìˆ 

---

**Backend**

- Springboot
- Spring Data JPA
- Spring Security
- Spring Validation
- Spring Web
- Query DSL
- Swagger
- Gradle
- MySQL

**Frontend**

- React
- openVidu browser
- HTML
- JavaScript
- CSS

**CI/CD**

- AWS EC2
- NGINX
- SSL
- Docker
- Jenkins
- openVidu KMS

---

## âœ” í”„ë¡œì íŠ¸ íŒŒì¼ êµ¬ì¡°

---

### Frontend

```
frontend
â”œâ”€public
â””â”€src
    â”œâ”€app
    â”œâ”€assets
    â”‚  â”œâ”€fonts
    â”‚  â””â”€images
    â”œâ”€common
    â”‚  â”œâ”€api
    â”‚  â”œâ”€modal
    â”‚  â””â”€navbar
    â””â”€features
        â”œâ”€custom
        â”‚  â””â”€page
        â”œâ”€game
        â”œâ”€gossip
        â”‚  â””â”€page
        â”œâ”€help
        â”‚  â””â”€page
        â”œâ”€home
        â”‚  â””â”€page
        â”œâ”€mypage
        â”‚  â””â”€page
        â”œâ”€notfound
        â”œâ”€rank
        â”‚  â””â”€page
        â”œâ”€statistic
        â”‚  â””â”€page
        â”œâ”€user
        â”‚  â””â”€page
        â””â”€userrank
            â””â”€page

```

### Backend

```
backend
â”œâ”€.gitlab
â”‚  â””â”€merge_request_templates
â”œâ”€.gradle
â”‚  â”œâ”€6.7
â”‚  â”‚  â”œâ”€fileChanges
â”‚  â”‚  â”œâ”€fileHashes
â”‚  â”‚  â””â”€vcsMetadata-1
â”‚  â”œâ”€buildOutputCleanup
â”‚  â”œâ”€checksums
â”‚  â”œâ”€configuration-cache
â”‚  â””â”€vcs-1
â”œâ”€.settings
â”œâ”€bin
â”‚  â””â”€main
â”‚      â”œâ”€com
â”‚      â”‚  â””â”€ssafy
â”‚      â”‚      â”œâ”€api
â”‚      â”‚      â”‚  â”œâ”€controller
â”‚      â”‚      â”‚  â”œâ”€request
â”‚      â”‚      â”‚  â”œâ”€response
â”‚      â”‚      â”‚  â””â”€service
â”‚      â”‚      â”œâ”€common
â”‚      â”‚      â”‚  â”œâ”€auth
â”‚      â”‚      â”‚  â”œâ”€exception
â”‚      â”‚      â”‚  â”‚  â””â”€handler
â”‚      â”‚      â”‚  â”œâ”€model
â”‚      â”‚      â”‚  â”‚  â””â”€response
â”‚      â”‚      â”‚  â””â”€util
â”‚      â”‚      â”œâ”€config
â”‚      â”‚      â”œâ”€db
â”‚      â”‚      â”‚  â”œâ”€entity
â”‚      â”‚      â”‚  â”œâ”€qentity
â”‚      â”‚      â”‚  â””â”€repository
â”‚      â”‚      â””â”€infos
â”‚      â””â”€dist
â”‚          â”œâ”€css
â”‚          â”œâ”€fonts
â”‚          â”œâ”€img
â”‚          â””â”€js
â”œâ”€gradle
â”‚  â””â”€wrapper
â””â”€src
    â””â”€main
        â”œâ”€java
        â”‚  â””â”€com
        â”‚      â””â”€ssafy
        â”‚          â”œâ”€api
        â”‚          â”‚  â”œâ”€controller
        â”‚          â”‚  â”œâ”€request
        â”‚          â”‚  â”œâ”€response
        â”‚          â”‚  â””â”€service
        â”‚          â”œâ”€common
        â”‚          â”‚  â”œâ”€auth
        â”‚          â”‚  â”œâ”€exception
        â”‚          â”‚  â”‚  â””â”€handler
        â”‚          â”‚  â”œâ”€model
        â”‚          â”‚  â”‚  â””â”€response
        â”‚          â”‚  â””â”€util
        â”‚          â”œâ”€config
        â”‚          â”œâ”€db
        â”‚          â”‚  â”œâ”€entity
        â”‚          â”‚  â”œâ”€qentity
        â”‚          â”‚  â””â”€repository
        â”‚          â””â”€infos
        â””â”€resources
            â””â”€dist
                â”œâ”€css
                â”œâ”€fonts
                â”œâ”€img
                â””â”€js
```

## âœ” í˜‘ì—… íˆ´

---

- [Gitlab](https://lab.ssafy.com/s07-webmobile1-sub2/S07P12E103)
- [Notion](https://www.notion.so/Semononda-26223a897b784d8d88ec1e02a79df4b2)
- [JIRA](https://jira.ssafy.com/secure/RapidBoard.jspa?rapidView=12719&projectKey=S07P12E103&view=planning.nodetail&issueLimit=100)
- [Figma](https://www.figma.com/file/RXpNubjb9F9pGdmKwbLVOk/%EC%84%B8%EB%AA%A8%EB%85%BC%EB%8B%A4?node-id=0%3A1)
- [MatterMost](https://meeting.ssafy.com/s07p11e1/channels/333)
- [Webex](https://ssafyclass.webex.com/meet/kjmk1007)

## âœ” í˜‘ì—… í™˜ê²½

---

- ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ/IA êµ¬ì„±ë„/API ëª…ì„¸ì„œ
  - [êµ¬ê¸€ ë“œë¼ì´ë¸Œ](https://docs.google.com/spreadsheets/d/1Szz6Hn31rGLiAI0DS68rMQKO8MfN0WhXfXgDKB41ufs/edit#gid=0)ì—ì„œ ê¸°íš ë‚´ìš©ì„ ê³µìœ  ë° ìˆ˜ì •
- Gitlab
  - ì½”ë“œ ë²„ì „ ê´€ë¦¬
  - MR í…œí”Œë¦¿ ì‚¬ìš©
  - ê¸°ëŠ¥ë³„ branch ìƒì„±, ê°œë°œ.
  - ì»¤ë°‹ ì»¨ë°´ì…˜ Udacity convention ì‚¬ìš©
- JIRA
  - ê°œë°œ ê¸°íšì— ë”°ë¼ ì—í”½, ì´ìŠˆ ìƒì„±
  - ë§¤ì£¼ ì²« ì›Œí‚¹ë°ì´ì— ê°œì¸ ëª©í‘œëŸ‰ì„ ì„¤ì •í•˜ì—¬ Sprint ì§„í–‰
  - ì—…ë¬´ì˜ ìš°ì„ ìˆœìœ„ë¥¼ ì„¤ì •í•˜ê³ , í• ë‹¹ëŸ‰ì„ ì •í•˜ì—¬ Story Pointë¥¼ ì„¤ì •í•œ ë’¤ In-Progress -> Done ìˆœìœ¼ë¡œ ì‘ì—…
  - ì†Œë©¸ ì°¨íŠ¸ë¥¼ í†µí•´ ìŠ¤í”„ë¦°íŠ¸ ì§„ì²™ë„ í™•ì¸
- íšŒì˜
  - ë§¤ì¼ ì•„ì¹¨ ìŠ¤í¬ëŸ¼ ì§„í–‰, ì§„í–‰ ì¤‘ì¸ ë‚´ìš© ë° ì´ìŠˆ ê³µìœ 
  - í”„ë¡ íŠ¸ì—”ë“œ <-> ë°±ì—”ë“œ ìš”êµ¬ì‚¬í•­ ì†Œí†µ
  - íŒ€ì› ì¹­ì°¬ íƒ€ì„
  - ë§¤ì¼ ì˜¤í›„ ìŠ¤í¬ëŸ¼ ì§„í–‰, ì˜¤ëŠ˜ ì§„í–‰í•œ ë‚´ìš© ê³µìœ 
- Notion
  - íšŒì˜ë¡/í”¼ë“œë°±/ìŠ¤í¬ëŸ¼/ìƒë‹´ë‚´ìš© ë“± ì €ì¥
  - ê°œë°œ ì°¸ê³  ìë£Œ ì—…ë¡œë“œ, í•„ìš” ê°œë… ê³µìœ 
  - ê°œë°œ ë„ì¤‘ ë°œìƒí•œ ì´ìŠˆ ì €ì¥
  - ì»¨ë²¤ì…˜ ì •ë¦¬
  - ê°ì¢… ëª…ì„¸ì„œ ë“± ëª¨ë‘ê°€ ê³µìœ í•´ì•¼ í•˜ëŠ” ë¬¸ì„œ ê´€ë¦¬
- Figma
  - ëª©ì—… ì œì‘, ì™€ì´ì–´í”„ë ˆì„ì œì‘, ë””ìì¸ ì‘ì—… ê³µìœ 

## âœ” íŒ€ì› ì—­í•  ë¶„ë°°

---

|   Name   | ê¹€ê°€í”           | ì •ë¯¼ì§€                  | ì´ë™ê·¼           | ê¹€ëŒ€ì˜                        | ê¹€ìœ ì •                          | ë°•ì°¬í˜¸                             |
| :------: | ---------------- | ----------------------- | ---------------- | ----------------------------- | ------------------------------- | ---------------------------------- |
| Profile  |      |              |        |                   | ![ê¹€ìœ ì •](https://user-images.githubusercontent.com/51036842/185786075-586f3cae-09af-4332-bc42-b168a92ecf27.png)                      | ![ë°•ì°¬í˜¸](https://user-images.githubusercontent.com/51036842/185786083-433277e3-8b93-446b-a73a-f26ac7225e60.png)                  |
| Position | Frontend & UI/UX | íŒ€ì¥ & Frontend & UI/UX | Frontend & UI/UX | Backend Develop & CI/CD | Backend Develop & CI/CD | Backend Develop & CI/CD |
|   Git    |            |                   |            |                         | [yujeonge](https://github.com/yujeonge)                          | [taurus429](https://github.com/taurus429)                             |

## âœ” ì„¤ê³„ ì‚°ì¶œë¬¼

---

- [ì„¤ê³„ ë¬¸ì„œ]()
  - ìš”êµ¬ì‚¬í•­ ì •ì˜ì„œ
  - API ëª…ì„¸ì„œ

- í”Œë¡œìš° ì°¨íŠ¸
- ì‚¬ì´íŠ¸ ë§µ
- ERD

## âœ” í”„ë¡œì íŠ¸ ê²°ê³¼ë¬¼
---

## ğŸ‘” ë°œí‘œ ìë£Œ
---
- [ì¤‘ê°„ë°œí‘œìë£Œ](https://docs.google.com/presentation/d/18G2of-JtpQr43J7P27Zm4BOHEdkHVKwkz7IGMF9BrzA/edit#slide=id.g967d9b3c40_0_855)
- [ìµœì¢…ë°œí‘œìë£Œ]()
---

## ğŸµ ì„œë¹„ìŠ¤ í™”ë©´

---

# í¬íŒ… ë©”ë‰´ì–¼


## ì‚¬ìš© ê¸°ìˆ  ìŠ¤íƒ


front-end : NodeJS, React

back-end: Java, Spring boot, JPA, gradle, Docker, NginX, Jenkins

|ê¸°ìˆ  ìŠ¤íƒ|ë²„ì „|
|--|--|
NodeJS|19.0.0|
React|18.2.0|
OpenJDK|1.8.0_192|
Spring boot|2.4.5|
QueryDSL|4.4.0|
Docker|20.10.17|
NginX|1.18.0|
Jenkins|2.346|
Gradle|6.9|

#

## Frontend ë°°í¬

### ë¡œì»¬ ì‹¤í–‰ ë°©ë²•

```
git clone https://lab.ssafy.com/s07-final/S07P31E106.git
cd frontend
npm i
npm start
```

### Dockerfile ì„ ì‚¬ìš©í•œ ë¹Œë“œ ë° ë°°í¬

Dockerfileì„ ì‘ì„±í•˜ì—¬ Nginxì™€ reactë¥¼ í•¨ê»˜ ë°°í¬í•©ë‹ˆë‹¤.
í”„ë¡œì íŠ¸ë‚´ì˜ frontend ë””ë ‰í† ë¦¬ì˜ ë£¨íŠ¸ ê²½ë¡œì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.


S07P31E106/frontend/nginx.conf
```conf
server {
    listen 80;
    location / {
        root    /app/build;
        index   index.html;
        try_files $uri $uri/ /index.html;
    }
}
```

-  nginx ê²½ë¡œë¥¼ ì„¤ì •í•  nginx.conf íŒŒì¼ì„ ì¶”ê°€í•©ë‹ˆë‹¤

S07P31E106/frontend/Dockerfile
```Dockerfile
# Dockerfile

# nginx ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ë’¤ì— tagê°€ ì—†ìœ¼ë©´ latest ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
FROM nginx

# root ì— app í´ë”ë¥¼ ìƒì„±
RUN mkdir /app

# work dir ê³ ì •
WORKDIR /app

# work dir ì— build í´ë” ìƒì„± /app/build
RUN mkdir ./build

# host pcì˜ í˜„ì¬ê²½ë¡œì˜ build í´ë”ë¥¼ workdir ì˜ build í´ë”ë¡œ ë³µì‚¬
ADD ./build ./build

# nginx ì˜ default.conf ë¥¼ ì‚­ì œ
RUN rm /etc/nginx/conf.d/default.conf

# host pc ì˜ nginx.conf ë¥¼ ì•„ë˜ ê²½ë¡œì— ë³µì‚¬
COPY ./nginx.conf /etc/nginx/conf.d

# 80 í¬íŠ¸ ì˜¤í”ˆ
EXPOSE 80
# https ì‚¬ìš©ì„ ìœ„í•œ 443 í¬íŠ¸ ì˜¤í”ˆ 
EXPOSE 443
# container ì‹¤í–‰ ì‹œ ìë™ìœ¼ë¡œ ì‹¤í–‰í•  command. nginx ì‹œì‘í•¨
CMD ["nginx", "-g", "daemon off;"]
```

ê·¸ ë‹¤ìŒ ë„ì»¤íŒŒì¼ì„ ì‘ì„±í•©ë‹ˆë‹¤ nginx.conf ì— ì í˜€ìˆëŠ” ê²ƒì„ ì»¨í…Œì´ë„ˆë‚´ ì„¤ì •ìœ¼ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.

ì´í›„ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì°¨ë¡€ë¡œ ì…ë ¥í•˜ì—¬ moduleì„ ì„¤ì¹˜, ë¹Œë“œ, ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ê³  ì»¨í…Œì´ë„ˆì—ì„œ ë°°í¬í•©ë‹ˆë‹¤.

```
# module ì„¤ì¹˜
npm update

# ë¹Œë“œ íŒŒì¼ ìƒì„±
CI=false npm run build

# ë„ì»¤ ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t front:0.1 .

# ë„ì»¤ ì»¨í…Œì´ë„ˆë¥¼ ì´ìš©í•œ í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬
docker run --name front -d -p 3000:80 front:0.1
```
# 

## backend ë°°í¬

### ë¡œì»¬ì—ì„œ ì‹¤í–‰ ë°©ë²•

build ê²°ê³¼ë¬¼ ì–»ê¸°

```
git clone https://lab.ssafy.com/s07-final/S07P31E106.git
cd backend
```

S07P31E106/backend ì—ì„œ
```
gradle clean build
```

ê·¸ëŸ¬ë©´ .jar íŒŒì¼ì´ S07P31E106/backend/build/libs ìœ„ì¹˜ì— ìƒì„±ë©ë‹ˆë‹¤.
```
java -jar [jaríŒŒì¼ëª…] 
```
ì„ ì‹¤í–‰í•˜ë©´ ìë°” ë°±ì—”ë“œ ì„œë²„ê°€ ì—´ë¦½ë‹ˆë‹¤.

---

### Dockerfileì„ ì‚¬ìš©í•œ ë°°í¬( ì¶”í›„ ìë™ ë°°í¬ë¥¼ ìœ„í•œ ê³¼ì •)
Dockerfileì„ backend í´ë”ì—ì„œ ì‘ì„±í•©ë‹ˆë‹¤.

S07P31E106/backendì˜ Dockerfile
```Docker
FROM openjdk:8
VOLUME /tmp
EXPOSE 8080
ARG JAR_FILE=build/libs/ssafy-web-project-1.0-SNAPSHOT.jar
COPY ${JAR_FILE} app.jar
ENTRYPOINT ["java","-jar","/app.jar"]
ARG DEBIAN_FRONTEND=noninteractive
ENV TZ=Asia/Seoul
RUN apt-get install -y tzdata
```


S07P31E106/backend
```
docker build -t back:0.1 .
docker run --name back -p 8081:8080 back:0.1 
```

ë‹¤ìŒì„ ì‹¤í–‰í•˜ë©´ ë°°í¬ê°€ ì™„ë£Œë©ë‹ˆë‹¤.
